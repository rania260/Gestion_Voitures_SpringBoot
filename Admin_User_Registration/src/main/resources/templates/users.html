<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="ISO-8859-1">
<title>location des voitures</title>

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" th:href="@{/locations}">location des voitures</a>
                <a class="navbar-brand" th:href="@{/voitures}">Gestion des voitures</a>
                <a class="navbar-brand" th:href="@{/users}">Gestion des utilisateurs</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Logout</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<br>
	<br>
</div>
<div class="container">
  <h1>Users List</h1>
  <table class="table align-middle mb-0 bg-white">
    <thead class="bg-light">
    <tr>
      <th class="active">Nom Complet</th>
      <th class="active">E-mail</th>
      <th class="active"> Password</th>
      <th class="active">Role</th>
      <th class="active">Actions</th>
    </tr>
  </thead>
      <!-- sta3mlna list products li nafesha sta3mlneha fel controller-->
    <tr class="text" th:each="user :${users}">
      <div class="d-flex align-items-center">
      <td class="fw-bold mb-1" th:text="${user.fullname}"></td>
      <td class="fw-bold mb-1" th:text="${user.email}"></td>
      <td class="fw-bold mb-1" th:text="${user.password}"></td>
      <td class="fw-bold mb-1" th:text="${user.role}"></td>
      
      <td>
          <form th:action="@{|/users/${user.id}/edit|}" method="get" class="edit-form">
          <button type="submit">Modifier</button>
          </form>
        </form>
        <form th:action="@{|/users/${user.id}/delete|}" method="post" class="delete-form">
          <button type="submit" >Supprimer</button>
        </form>
      </td>
    </tr>
  </table>

  
  <a th:href="@{/users/create}" class="btn  btn-primary">Ajouter Utilisateur</a>

</div>
</div>

</body>
</html>